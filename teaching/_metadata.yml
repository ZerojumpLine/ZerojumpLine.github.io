# Freeze computed outputs - disabled to preserve category functionality
# execute: 
#   freeze: true

# Enable banner style title blocks
title-block-banner: true

# Enable CC licence appendix
license: "CC BY-SA"

# Default fields for citation
citation: true
appendix-cite-as: display

# Default for table of contents
toc: true
toc-title: Table of contents
toc-location: right

# Wrap overflow code
format: 
  html: 
    code-overflow: wrap
    template-partials: 
      - ../_partials/title-block-link-buttons/title-block.html

# Post info
author: Zeju Li

# Enable comments
comments: 
  utterances:
    repo: ZerojumpLine/ZerojumpLine.github.io
    issue-term: title
    theme: boxy-light
    label: "comments :crystal_ball:"

# Include JavaScript for category functionality
include-in-header: 
  - text: |
      <script>
        // Make category elements clickable on individual pages
        document.addEventListener('DOMContentLoaded', function() {
          const categoryElements = document.querySelectorAll('.quarto-category');
          categoryElements.forEach(function(category) {
            category.style.cursor = 'pointer';
            category.addEventListener('click', function() {
              const categoryText = category.textContent.trim();
              // Navigate to teaching index with category filter
              const baseUrl = window.location.origin + '/teaching/';
              const teachingIndexUrl = baseUrl + 'index.html';
              // Use the correct format that Quarto expects
              window.location.href = teachingIndexUrl + '#category=' + encodeURIComponent(categoryText);
            });
          });
        });
      </script>
